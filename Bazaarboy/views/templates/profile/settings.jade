extends ../layout

block title
    | Profile Settings

append head
    link(rel="stylesheet", href="{{ STATIC_URL }}jQueryUI/jquery-ui.css")

block header
    div.header-title.large-9.medium-10.columns.small-centered
        div.row.clearfix
            div.icon.left
                span.ss-file
            div.text.left
                | Edit Profile | 
                span.sub {{ profile.name }}

block content
    div#wrapper-profile-settings.large-9.medium-10.columns.small-centered
        div#profile-settings.small-12.columns
            form.profile-settings
                div.row
                    div.name.medium-2.columns 
                        | Name
                    div.medium-10.columns
                        input.field(type="text", name="name", value="{{ profile.name }}", placeholder="Event name")
                    div.text.medium-10.medium-offset-2.columns
                        p The name of your organization, maximum 100 characters.
                div.row
                    div.name.medium-2.columns
                        | Description
                    div.medium-10.columns
                        textarea.field(type="text", name="description", placeholder="Short summary")
                            {{ profile.description }}
                    div.text.medium-10.medium-offset-2.columns
                        p A description of your organization.
                div.row.logo
                    div.name.medium-2.columns
                        | Logo
                    div.medium-3.columns
                        div.logo_controls
                            a.secondary-btn.upload(href="javascript:;") Upload
                            a.secondary-btn.delete.last(href="javascript:;") Delete
                            a.secondary-btn.save.hide(href="javascript:;") Save
                            a.secondary-btn.cancel.hide.last(href="javascript:;") Cancel
                    div.medium-7.columns
                        div.logo_image
                            {% if profile.image %}
                            img(src="{{ profile.image.source.url }}")
                            {% endif %}
                div.row
                    div.name.medium-2.columns
                        | Location
                    div.medium-10.columns
                        input.field(type="text", name="location", value="{{ profile.location }}", placeholder="Profile location")
                    div.text.medium-10.medium-offset-2.columns
                        p The location of your organization. If you don't think marker position is accurate, you can also drag the marker to where you desire.
                    div.medium-10.medium-offset-2.columns
                        div#map-canvas
                    div.hide
                        div#map-canvas-hidden
                div.row
                    div.status.medium-3.medium-offset-1.columns
                        | Saved
                    div.medium-4.columns.end
                        input.primary-btn(type="submit", value="Save Profile")
                input(type="hidden", name="latitude", value="{{ profile.latitude }}")
                input(type="hidden", name="longitude", value="{{ profile.longitude }}")
            form.upload_logo.hide
                input(type="file", name="image_file")
                {% csrf_token %}

append script
    script(src="{{ STATIC_URL }}jQueryUI/jquery-ui.min.js")
    script(src="{{ STATIC_URL }}jQueryUI/jquery-ui.autocomplete.html.js")
    script(type="text/javascript", src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAasW6vqPCn18g6UMaFWV90qGMSo6pErwo&sensor=false&libraries=places")
    script.
        var profileId = {{ profile.id }};
    script(src="{{ STATIC_URL }}js/profile/settings.js")


