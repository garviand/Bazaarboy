// Index

extends ../layout

block sidebar
    div.create-event(data-profile-id="{{ profiles.0.id }}")
        div.primary-btn.hide-for-medium-only
            | <span class="plus">+</span> Create Event
        div.primary-btn.show-for-medium-only
            | <span class="plus">+</span>
    +sidebarItem('ss-newspaper')(class="selected")
        | Events
    +sidebarItemSub('{{ currentEventsCount }}')(class="first")
        | Current Events
    +sidebarItemSub('{{ draftEventsCount }}')
        | Event Drafts
    +sidebarItemSub('{{ pastEventsCount }}')
        | Past Events
    +sidebarItem('ss-database')
        | Lists
    +sidebarItem('ss-share')
        | Settings

block header
    div.header-title.large-9.medium-10.columns.small-centered
        div.row.clearfix
            div.icon.left
                span.ss-newspaper
            div.text.left
                | Events | 
                span.sub Current Events
    
block content
    mixin currentEvent()
        div.current-event.row
            div.small-12.columns.tile
                div.header.row
                    div.current-event-collapse.large-1.medium-1.columns.action-btn
                        span.ss-contract
                    div.current-event-title.large-8.medium-7.columns
                        | {{ event.name }}
                    div.current-event-view.large-3.medium-4.columns
                        div.row
                            div.medium-10.medium-offset-2.columns
                                a.secondary-btn(href="{% url event:index event.id %}?preview") 
                                    | View Event
                div.info.small-12.columns
                    div.inner.row
                        div.current-event-time.medium-3.small-2.columns
                        div.current-event-location.medium-9.small-10.columns
                            | {{ event.location }}
                div.stats.small-12.columns
                    div.row
                        div.current-event-stats.medium-9.columns
                            div.inner.row
                                div
                                    div.medium-4.columns
                                    div.medium-8.columns
                        div.current-event-actions.medium-3.columns
                            a.current-event-action.first(href="{% url event:modify event.id 'basics' %}")
                                div.icon
                                    span.ss-info
                                div.text
                                    span Basics
                            a.current-event-action(href="{% url event:modify event.id 'design' %}")
                                div.icon
                                    span.ss-picture
                                div.text
                                    span Design
                            a.current-event-action(href="{% url event:modify event.id 'tickets' %}")
                                div.icon
                                    span.ss-creditcard
                                div.text
                                    span Ticket Options
                            a.current-event-action(href="{% url event:modify event.id 'bonus' %}")
                                div.icon
                                    span.ss-box
                                div.text
                                    span Bonus
                            a.current-event-action.last(href="{% url event:modify event.id 'emails' %}")
                                div.icon
                                    span.ss-mail
                                div.text
                                    span Emails
                div
                    div.medium-12.columns
                        | Communications
                    div.current-event-add-communication
                div
                    div.current-event-communication-stat.medium-6.columns
                    div.medium-6.columns
                div
                    div.medium-12.columns
                        | Bonus
    div#wrapper-dashboard.large-9.medium-10.columns.small-centered
        {% for event in currentEvents %}
        +currentEvent()
        {% endfor %}

append script
    script(src="{{ STATIC_URL }}js/index/index.js")